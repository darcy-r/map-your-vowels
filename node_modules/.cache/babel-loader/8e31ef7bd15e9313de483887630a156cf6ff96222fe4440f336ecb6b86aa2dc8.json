{"ast":null,"code":"import _defineProperty from\"/Users/darcyroche/Documents/GitHub/map-your-vowels/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/darcyroche/Documents/GitHub/map-your-vowels/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/darcyroche/Documents/GitHub/map-your-vowels/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/darcyroche/Documents/GitHub/map-your-vowels/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{React,useState,useEffect}from'react';import{Group}from'@visx/group';import{Circle}from'@visx/shape';import{scaleLinear,scaleOrdinal,scaleQuantize}from'@visx/scale';import{AxisRight,AxisTop}from'@visx/axis';import{GridRows,GridColumns}from'@visx/grid';import{schemeRdYlBu,interpolateRdYlBu}from'd3-scale-chromatic';import{useTooltip,withTooltip,Tooltip,defaultStyles}from'@visx/tooltip';import{WithTooltipProvidedProps}from'@visx/tooltip/lib/enhancers/withTooltip';// import useWindowDimensions from './useWindowDimensions.js'\n// tooltip stuff\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var tooltipStyles=_objectSpread(_objectSpread({},defaultStyles),{},{minWidth:60,backgroundColor:'rgba(180,180,180,0.75)',color:'rgba(30,30,30,1)',fontSize:'0.8rem'});var tooltipTimeout;var blue=\"#1f78b4\";var orange=\"#ff7f00\";// Hook\nfunction useWindowSize(){// Initialize state with undefined width/height so server and client renders match\n// Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\nvar _useState=useState({width:undefined,height:undefined}),_useState2=_slicedToArray(_useState,2),windowSize=_useState2[0],setWindowSize=_useState2[1];useEffect(function(){// Handler to call on window resize\nfunction handleResize(){// Set window width/height to state\nsetWindowSize({width:window.innerWidth,height:window.innerHeight});}// Add event listener\nwindow.addEventListener(\"resize\",handleResize);// Call handler right away so state gets updated with initial window size\nhandleResize();// Remove event listener on cleanup\nreturn function(){return window.removeEventListener(\"resize\",handleResize);};},[]);// Empty array ensures that effect is only run on mount\nreturn windowSize;}// Finally we'll embed it all in an SVG\nfunction ScatterPlot(props){var size=useWindowSize();// Define the graph dimensions and margins\nvar width=size.height;var height=size.height;// window.InnerHeight;\nvar margin={top:60,bottom:30,left:40,right:80};// Then we'll create some bounds\nvar xMax=width-margin.left-margin.right;var yMax=height-margin.top-margin.bottom;// We'll make some helpers to get at the data we want\nvar x=props.normalisationMethod==\"none\"?function(d){return parseFloat(d.f2);}:function(d){return parseFloat(d.normalisedF2);};var y=props.normalisationMethod==\"none\"?function(d){return parseFloat(d.f1);}:function(d){return parseFloat(d.normalisedF1);};var c=function c(d){return d.dataset;};// And then scale the graph by our data\n// TODO: update with Bark scale https://en.wikipedia.org/wiki/Bark_scale\nvar xDomainMin=Math.min.apply(Math,_toConsumableArray(props.data.map(x)));var xDomainMax=Math.max.apply(Math,_toConsumableArray(props.data.map(x)));var xScale=scaleLinear({range:[xMax,0],round:true,domain:[xDomainMin-(xDomainMax-xDomainMin)*0.12,xDomainMax+(xDomainMax-xDomainMin)*0.08]});var yDomainMin=Math.min.apply(Math,_toConsumableArray(props.data.map(y)));var yDomainMax=Math.max.apply(Math,_toConsumableArray(props.data.map(y)));var yScale=scaleLinear({range:[0,yMax],round:true,domain:[yDomainMin-(yDomainMax-yDomainMin)*0.12,yDomainMax+(yDomainMax-yDomainMin)*0.08]});var colourScale=scaleOrdinal({domain:[\"reference\",\"user input\"],range:[blue,orange]});// Compose together the scale and accessor functions to get point functions\nvar compose=function compose(scale,accessor){return function(data){return scale(accessor(data));};};var xPoint=compose(xScale,x);var yPoint=compose(yScale,y);var categoryColour=compose(colourScale,c);// set up tooltips\nvar _useTooltip=useTooltip({// initial tooltip state\ntooltipOpen:false,tooltipLeft:width/3,tooltipTop:height/3,tooltipData:'Move me with your mouse or finger'}),showTooltip=_useTooltip.showTooltip,hideTooltip=_useTooltip.hideTooltip,tooltipOpen=_useTooltip.tooltipOpen,tooltipData=_useTooltip.tooltipData,_useTooltip$tooltipLe=_useTooltip.tooltipLeft,tooltipLeft=_useTooltip$tooltipLe===void 0?0:_useTooltip$tooltipLe,_useTooltip$tooltipTo=_useTooltip.tooltipTop,tooltipTop=_useTooltip$tooltipTo===void 0?0:_useTooltip$tooltipTo;// render\nif(!height)return/*#__PURE__*/_jsx(\"div\",{});// don't try loading if window isn't ready\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"svg\",{width:width,height:height,className:\"scatter-plot-chart\",children:/*#__PURE__*/_jsxs(Group,{left:margin.left,top:margin.top,children:[/*#__PURE__*/_jsx(GridRows,{scale:yScale,width:xMax,height:yMax,stroke:\"#e0e0e0\"}),/*#__PURE__*/_jsx(GridColumns,{scale:xScale,width:xMax,height:yMax,stroke:\"#e0e0e0\"}),/*#__PURE__*/_jsx(AxisTop,{label:props.normalisationMethod==\"none\"?\"F2 (Hz)\":\"F2 (normalised)\",bottom:yMax,scale:xScale,numTicks:width>461?12:6}),/*#__PURE__*/_jsx(AxisRight,{label:props.normalisationMethod==\"none\"?\"F1 (Hz)\":\"F1 (normalised)\",left:xMax,scale:yScale,numTicks:height>491?12:8}),props.data.map(function(d,i){var _jsxs2;return/*#__PURE__*/_jsxs(Group,{children:[/*#__PURE__*/_jsx(Circle,{cx:xPoint(d),cy:yPoint(d),r:6,fill:categoryColour(d),onMouseLeave:function onMouseLeave(){tooltipTimeout=window.setTimeout(function(){hideTooltip();},300);},onMouseMove:function onMouseMove(){if(tooltipTimeout)clearTimeout(tooltipTimeout);showTooltip({tooltipData:d,tooltipTop:yPoint(d)+30,tooltipLeft:xPoint(d)});}}),/*#__PURE__*/_jsxs(\"text\",(_jsxs2={fill:\"white\",x:xPoint(d),y:yPoint(d),dx:\"1em\",dy:\".33em\",fontSize:11,textAnchor:\"left\",pointerEvents:\"none\"},_defineProperty(_jsxs2,\"fill\",categoryColour(d)),_defineProperty(_jsxs2,\"children\",[d.elicitation,\" \",d.dataset==\"reference\"&&\"/\"+d.description+\"/\"]),_jsxs2))]},\"circle-\".concat(i));})]})}),tooltipOpen&&tooltipData&&/*#__PURE__*/_jsx(Tooltip,{top:tooltipTop,left:tooltipLeft,style:tooltipStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip-paragraph\",children:[tooltipData.elicitation,\" vowel\",/*#__PURE__*/_jsx(\"br\",{}),\"F1: \",tooltipData.f1,\" Hz\",/*#__PURE__*/_jsx(\"br\",{}),\"F2: \",tooltipData.f2,\" Hz\"]})})]});}export default ScatterPlot;","map":{"version":3,"names":["React","useState","useEffect","Group","Circle","scaleLinear","scaleOrdinal","scaleQuantize","AxisRight","AxisTop","GridRows","GridColumns","schemeRdYlBu","interpolateRdYlBu","useTooltip","withTooltip","Tooltip","defaultStyles","WithTooltipProvidedProps","jsx","_jsx","jsxs","_jsxs","tooltipStyles","_objectSpread","minWidth","backgroundColor","color","fontSize","tooltipTimeout","blue","orange","useWindowSize","_useState","width","undefined","height","_useState2","_slicedToArray","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","ScatterPlot","props","size","margin","top","bottom","left","right","xMax","yMax","x","normalisationMethod","d","parseFloat","f2","normalisedF2","y","f1","normalisedF1","c","dataset","xDomainMin","Math","min","apply","_toConsumableArray","data","map","xDomainMax","max","xScale","range","round","domain","yDomainMin","yDomainMax","yScale","colourScale","compose","scale","accessor","xPoint","yPoint","categoryColour","_useTooltip","tooltipOpen","tooltipLeft","tooltipTop","tooltipData","showTooltip","hideTooltip","_useTooltip$tooltipLe","_useTooltip$tooltipTo","children","className","stroke","label","numTicks","i","_jsxs2","cx","cy","r","fill","onMouseLeave","setTimeout","onMouseMove","clearTimeout","dx","dy","textAnchor","pointerEvents","_defineProperty","elicitation","description","concat","style"],"sources":["/Users/darcyroche/Documents/GitHub/map-your-vowels/src/Plot.js"],"sourcesContent":["import { React, useState, useEffect } from 'react';\nimport { Group } from '@visx/group';\nimport { Circle } from '@visx/shape';\nimport { scaleLinear, scaleOrdinal, scaleQuantize } from '@visx/scale';\nimport { AxisRight, AxisTop } from '@visx/axis';\nimport { GridRows, GridColumns } from '@visx/grid';\nimport { schemeRdYlBu, interpolateRdYlBu } from 'd3-scale-chromatic';\nimport { useTooltip, withTooltip, Tooltip, defaultStyles } from '@visx/tooltip';\nimport { WithTooltipProvidedProps } from '@visx/tooltip/lib/enhancers/withTooltip';\n// import useWindowDimensions from './useWindowDimensions.js'\n\n// tooltip stuff\nconst tooltipStyles = {\n  ...defaultStyles,\n  minWidth: 60,\n  backgroundColor: 'rgba(180,180,180,0.75)',\n  color: 'rgba(30,30,30,1)',\n  fontSize: '0.8rem',\n};\nlet tooltipTimeout;\n\nconst blue = \"#1f78b4\"\nconst orange = \"#ff7f00\"\n\n// Hook\nfunction useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n  return windowSize;\n}\n\n// Finally we'll embed it all in an SVG\nfunction ScatterPlot(props) {\n  const size = useWindowSize();\n  // Define the graph dimensions and margins\n  let width = size.height;\n  let height = size.height; // window.InnerHeight;\n  const margin = { top: 60, bottom: 30, left: 40, right: 80 };\n  // Then we'll create some bounds\n  const xMax = width - margin.left - margin.right;\n  const yMax = height - margin.top - margin.bottom;\n  // We'll make some helpers to get at the data we want\n  const x = props.normalisationMethod == \"none\" ? d => parseFloat(d.f2) : d => parseFloat(d.normalisedF2);\n  const y = props.normalisationMethod == \"none\" ? d => parseFloat(d.f1) : d => parseFloat(d.normalisedF1);\n  const c = d => d.dataset;\n  // And then scale the graph by our data\n  // TODO: update with Bark scale https://en.wikipedia.org/wiki/Bark_scale\n  const xDomainMin = Math.min(...props.data.map(x));\n  const xDomainMax = Math.max(...props.data.map(x));\n  const xScale = scaleLinear({\n    range: [xMax, 0],\n    round: true,\n    domain: [xDomainMin - ((xDomainMax - xDomainMin) * 0.12), xDomainMax + ((xDomainMax - xDomainMin) * 0.08)],\n  });\n  const yDomainMin = Math.min(...props.data.map(y));\n  const yDomainMax = Math.max(...props.data.map(y));\n  const yScale = scaleLinear({\n    range: [0, yMax],\n    round: true,\n    domain: [yDomainMin - ((yDomainMax - yDomainMin) * 0.12), yDomainMax + ((yDomainMax - yDomainMin) * 0.08)],\n  });\n  const colourScale = scaleOrdinal({\n    domain: [\"reference\", \"user input\"],\n    range: [blue, orange],\n  });\n  // Compose together the scale and accessor functions to get point functions\n  const compose = (scale, accessor) => data => scale(accessor(data));\n  const xPoint = compose(xScale, x);\n  const yPoint = compose(yScale, y);\n  const categoryColour = compose(colourScale, c);\n  // set up tooltips\n  const {\n    showTooltip,\n    hideTooltip,\n    tooltipOpen,\n    tooltipData,\n    tooltipLeft = 0,\n    tooltipTop = 0,\n  } = useTooltip({\n    // initial tooltip state\n    tooltipOpen: false,\n    tooltipLeft: width / 3,\n    tooltipTop: height / 3,\n    tooltipData: 'Move me with your mouse or finger',\n  });\n  // render\n  if (!height) return (<div/>); // don't try loading if window isn't ready\n  return (\n      <div>\n        <svg width={width} height={height} className=\"scatter-plot-chart\">\n          <Group left={margin.left} top={margin.top}>\n            <GridRows scale={yScale} width={xMax} height={yMax} stroke=\"#e0e0e0\" />\n            <GridColumns scale={xScale} width={xMax} height={yMax} stroke=\"#e0e0e0\" />\n            <AxisTop label={props.normalisationMethod == \"none\" ? \"F2 (Hz)\" : \"F2 (normalised)\"} bottom={yMax} scale={xScale} numTicks={width > 461 ? 12 : 6} />\n            <AxisRight label={props.normalisationMethod == \"none\" ? \"F1 (Hz)\" : \"F1 (normalised)\"} left={xMax} scale={yScale} numTicks={height > 491 ? 12 : 8}/>\n            {props.data.map((d, i) => {\n              return (\n                <Group key={`circle-${i}`}>\n                  <Circle\n                    cx={xPoint(d)}\n                    cy={yPoint(d)}\n                    r={6}\n                    fill={categoryColour(d)}\n                    onMouseLeave={() => {\n                      tooltipTimeout = window.setTimeout(() => {\n                        hideTooltip();\n                      }, 300);\n                    }}\n                    onMouseMove={() => {\n                      if (tooltipTimeout) clearTimeout(tooltipTimeout);\n                      showTooltip({\n                        tooltipData: d,\n                        tooltipTop: yPoint(d) + 30,\n                        tooltipLeft: xPoint(d),\n                      });\n                    }}\n                  />\n                  <text\n                    fill=\"white\"\n                    x={xPoint(d)}\n                    y={yPoint(d)}\n                    dx=\"1em\"\n                    dy=\".33em\"\n                    fontSize={11}\n                    textAnchor=\"left\"\n                    pointerEvents=\"none\"\n                    fill={categoryColour(d)}\n                  >\n                    {d.elicitation} {d.dataset == \"reference\" && \"/\" + d.description + \"/\"}\n                  </text>\n                </Group>\n              );\n            })}\n          </Group>\n        </svg>\n\n        {tooltipOpen && tooltipData && (\n          <Tooltip top={tooltipTop} left={tooltipLeft} style={tooltipStyles}>\n            <div className=\"tooltip-paragraph\">\n              {tooltipData.elicitation} vowel<br/>\n              F1: {tooltipData.f1} Hz<br/>\n              F2: {tooltipData.f2} Hz\n            </div>\n          </Tooltip>\n        )}\n      </div>\n  );\n}\n\nexport default ScatterPlot;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}